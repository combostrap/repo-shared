#!/bin/bash

set -TCEeuo pipefail

git fetch

LOCAL=$(git rev-parse @)
REMOTE=$(git rev-parse "@{u}")

if [ "$LOCAL" != "$REMOTE" ]; then
    echo "⚠️  WARNING: Your branch is out of sync with remote!"
    echo "Run 'git pull' before committing."
    read -p "Continue anyway? (y/n) " -n 1 -r
    echo
    if [[ ! $REPLY =~ ^[Yy]$ ]]; then
        exit 1
    fi
fi
